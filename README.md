# VITC_FP18VITC_WhatsApp_integrated_Shopping_experience
SRIB-PRISM Program

## Introduction
We have successfully completed a project that addresses the need for a SmartBot integrated with WhatsApp to provide Samsung customers with a seamless online shopping experience. Our solution leverages the power of the WhatsApp Business API and integrates it with the Samsung e-store, enabling customers to browse and purchase products directly through the WhatsApp chat interface.

The integration allows for multiple payment options using Razorpay ensuring a convenient and secure checkout process. Our SmartBot is designed to provide a multilingual experience, currently supporting English and Hindi with the flexibility to expand to other languages in the future. With a user-friendly interface, the SmartBot guides customers through the Samsung e-store catalogue, allowing them to easily select products and navigate to the e-store website for further details.

To enhance the customer experience, our solution collects additional user information such as name, phone number as a default using WhatsApp API itself. Based on the selected payment method, the transaction is seamlessly processed, and the order is confirmed, generating an invoice for the customer's reference. In cases where human interaction is required, the SmartBot provides an escalation pathway, enabling a smooth transition to agents via phone number, email, web support, or in-store visit prompts.

Our solution is built on a low-code dynamic platform, facilitating easy integration with future WhatsApp upgrades. The scalable nature of the solution also allows for potential implementations on other messaging platforms like Facebook Messenger and Telegram. By integrating the Samsung e-store with WhatsApp and incorporating secure payment app integrations, we have achieved a comprehensive solution that ensures a secure and seamless shopping experience for Samsung customers.

## Technologies Used
1. **Node.js**: A JavaScript runtime environment used for server-side development.
2. **Ngrok:** A tool for creating secure tunnels to localhost, allowing external access to locally hosted services during development.
3. **WhatsApp API:** Integration with the WhatsApp Business API to enable communication and interaction with users through WhatsApp Messenger.
4. **RazorPay API:** Integration with the RazorPay payment gateway API for processing online payments securely.
5. **Samsung Store API:** Integration with the Samsung e-store API to access and retrieve product information, manage shopping cart, and complete transactions.
6. **Meta Developer Portal:** Utilization of the Meta Developer Portal for obtaining necessary permissions and accessing resources for the Samsung ecosystem.
7. **Multilingual Support:** Incorporation of multilingual capabilities, initially supporting English and Hindi, with potential for future expansion to other languages.

## Setup
1. **Download Code:** Clone or download the project code from the repository to your local machine.<br>
```
git clone <repository_url>
```
2. **Setup Meta Developer Portal:** Register and set up an account on the Meta Developer Portal. This portal provides access to necessary permissions and resources for integrating with the Samsung ecosystem.<br>
* Go to the Meta Developer Portal website (https://developer.meta.com/) and sign up for an account.
* Follow the documentation and guidelines provided by the Meta Developer Portal to obtain the required credentials and permissions.
3. **Setup Ngrok Server Deployment:** Ngrok is used to create a secure tunnel to your local development environment, allowing external access to locally hosted services.<br>
* Download and install Ngrok from the official website (https://ngrok.com/) based on your operating system.
* Run Ngrok to expose your locally running server by executing the following command: 
```
ngrok http <port_number> --region us
```
* Note the forwarding URL generated by Ngrok, as it will be used to configure webhook endpoints for the WhatsApp API.
4. **Setup RazorPay Dashboard API:** Create an account on the RazorPay dashboard and configure the necessary API settings.<br>
* Go to the RazorPay website (https://razorpay.com/) and sign up for an account.
* Navigate to the dashboard and generate the required API keys.
* Configure the necessary settings, such as webhook URLs and payment options, based on your project requirements.
5. **Install Node.Js, Express.Js, Npm (If not done already):** Make sure you have Node.js, Express.js, and npm (Node Package Manager) installed on your machine. These are essential for running and managing the Node.js application.
* Visit the official Node.js website (https://nodejs.org/) and download the appropriate version for your operating system.
* Follow the installation instructions to set up Node.js and npm on your machine.
6. **Install all dependencies using Npm:** Install the project dependencies specified in the package.json file using npm. This will ensure that all required libraries and modules are installed and ready for use. <br>
```
npm install translate
npm install express pdfkit request whatsappcloudapi_wrapper
npm install nodemon --dev 
npm install razorpay
```

<br>**Note:** Since Node Modules cannot be uploaded, dependencies need to be installed locally only.

## How to Run the Code
1. **Meta Access Token:** Take the new Access Token from the Meta Devlopers Dashboard and change it in the **Meta_WA_accessToken** field of .env.js
2. **Whatsapp Business Account ID:** Take your Whatsapp Business Account ID from Meta Dashboard and change it in the **Meta_WA_wabaId** field of .env.js
3. **Phone number ID:** Take your Phone number ID the Meta Devlopers Dashboard and change it in the **Meta_WA_SenderPhoneNumberId** field of .env.js
4. **Razorpay Credentials:** Acquire your API credentials from Razorpay Dashboard and change it in the **key_id, key_secret** field of index_with_translate.js
5. **Run the Express Server:** Open the root directory of the project in your terminal and run the below command:
```
nodemon app.js
```
6. **Deploy the Ngrok Server:** Open another terminal and run the following command:
```
ngrok http 9000 --region us
```
7. **WebHook Configuration:** In your meta developers portal, you now need to go to the configure webhook option. 
* Copy your web server link generated by ngrok (eg: https://NgrokNewHtppLink.io)
* In the webhook options in meta set the CallBack URL as: **<ngrok_server_link>/meta_wa_callbackurl**
* In the verification token column, put the value of **Meta_WA_VerifyToken** field from .env.js
8. **Sending a Message:** Finally, to initate a conversation with the bot, send a message to the **Test Number** given in the Meta Developer Portal.

## Sample Demonstation 

https://media.github.ecodesamsung.com/user/21470/files/303e298c-4734-4228-bc30-dfeb840cf772

## Conclusion
In conclusion, this project demonstrates the integration of various technologies and APIs to build a SmartBot integrated with WhatsApp, allowing Samsung customers to make purchases through a user-friendly chat interface. Leveraging Node.js, Express.js, and RazorPay API, we have created a seamless and secure shopping experience. The SmartBot offers multilingual support, interactive browsing of Samsung e-store catalogs, and facilitates smooth transactions. With human escalation pathways and future scalability options, this project showcases the potential for enhancing the digital shopping experience.

## References
* https://developers.facebook.com/apps/712380297102783/whatsapp-business/wa-settings/?business_id=776974220518210&phone_number_id=
* https://business.facebook.com/wa/manage/home/?business_id=776974220518210&waba_id=110309435286724
* https://razorpay.com/docs/api/payments/payment-links/
* https://ngrok.com/docs
* https://nodejs.org/en/docs
